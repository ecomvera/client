(()=>{var e={};e.id=721,e.ids=[721],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1017:e=>{"use strict";e.exports=require("path")},7310:e=>{"use strict";e.exports=require("url")},9323:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>o.a,__next_app__:()=>p,originalPathname:()=>m,pages:()=>d,routeModule:()=>u,tree:()=>c}),t(4428),t(8988),t(8774),t(5133);var r=t(9193),a=t(1854),l=t(3997),o=t.n(l),n=t(3320),i={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>n[e]);t.d(s,i);let c=["",{children:["(root)",{children:["myaccount",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,4428)),"C:\\Users\\sandeep\\projects\\saas-ecommerce\\web\\app\\(root)\\myaccount\\profile\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,8988)),"C:\\Users\\sandeep\\projects\\saas-ecommerce\\web\\app\\(root)\\myaccount\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,8774)),"C:\\Users\\sandeep\\projects\\saas-ecommerce\\web\\app\\(root)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5133,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,4269))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{"not-found":[()=>Promise.resolve().then(t.t.bind(t,5133,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,4269))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["C:\\Users\\sandeep\\projects\\saas-ecommerce\\web\\app\\(root)\\myaccount\\profile\\page.tsx"],m="/(root)/myaccount/profile/page",p={require:t,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(root)/myaccount/profile/page",pathname:"/myaccount/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},5700:(e,s,t)=>{Promise.resolve().then(t.bind(t,7477))},1582:(e,s,t)=>{Promise.resolve().then(t.bind(t,6052))},7477:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>h});var r=t(7486),a=t(3054),l=t(8165),o=t(6811),n=t(6768),i=t(6565),c=t(5274),d=t(3691),m=t(618),p=t.n(m),u=t(2909),x=t(2033),f=t(1850);function h({children:e}){let{user:s,isLoading:t}=(0,a.a)(),l=(0,o.usePathname)(),n=(0,o.useRouter)();return(0,r.jsxs)("div",{className:"max-w-desktop mx-auto flex py-2 md:py-5 px-3 mb-20 min-h-[calc(100vh-300px)]",children:[r.jsx(b,{}),t||s?r.jsx("main",{className:"w-full md:px-3",children:(0,r.jsxs)(m.Suspense,{fallback:r.jsx("div",{children:"Loading..."}),children:[" ",e]})}):(0,r.jsxs)("div",{className:"w-full text-center mt-28",children:[r.jsx("p",{className:"font-semibold",children:"Please Sign In to continue"}),r.jsx(x.z,{className:"md:text-lg mt-3",onClick:()=>n.push(`/sign-in?src=${l}`),children:"Sign In"})]})]})}let g=[{icon:r.jsx(n.gXc,{className:"w-5 h-5"}),name:"Overview",href:"/myaccount"},{icon:r.jsx(i.saO,{className:"w-5 h-5"}),name:"Orders",href:"/myaccount/orders"},{icon:r.jsx(d.NK0,{className:"w-5 h-5"}),name:"Addresses",href:"/myaccount/addresses"},{icon:r.jsx(c.xa5,{className:"w-5 h-5"}),name:"Profile",href:"/myaccount/profile"}],b=()=>{let e=(0,o.useRouter)(),s=(0,o.usePathname)(),t=s?.split("/").pop(),{setUser:a}=(0,f.L)(),[n,i]=p().useState(!1);return(0,r.jsxs)("div",{className:"border rounded-lg p-5 flex-col gap-5 w-48 h-fit laptop:w-64 hidden tablet:flex",children:[g.map(e=>r.jsx(l.default,{href:e.href,className:"my-3 text-light-1",children:(0,r.jsxs)("div",{className:`flex gap-3 items-center text-lg border-b ${(t==e.name.toLowerCase()||s===e.href)&&"font-semibold border-b-[1px] border-b-primary"}`,children:[e.icon," ",e.name]})},e.name)),r.jsx("div",{className:"flex gap-3 items-center mt-3 text-light-1 text-red-600 font-semibold cursor-pointer",onClick:()=>{},children:(0,r.jsxs)(u.Vq,{open:n,onOpenChange:i,children:[(0,r.jsxs)(u.hg,{className:"flex gap-3 items-center text-lg",children:[r.jsx(c.XqV,{className:"w-5 h-5"})," ",r.jsx("div",{className:"text-lg",children:"Log out"})]}),r.jsx(u.cZ,{"aria-describedby":void 0,children:(0,r.jsxs)(u.fK,{children:[r.jsx(u.$N,{className:"mb-10",children:"Are you sure you want to log out?"}),(0,r.jsxs)("div",{className:"flex gap-2 justify-end",children:[r.jsx(x.z,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),r.jsx(x.z,{variant:"destructive",className:"font-semibold",onClick:()=>{localStorage.removeItem("user"),localStorage.removeItem("cart"),localStorage.removeItem("wishlist"),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),i(!1),a(null),e.replace("/sign-in")},children:"Log out"})]})]})})]})})]})}},6052:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>x});var r=t(7486),a=t(3407),l=t(2033),o=t(2077),n=t(3054),i=t(1850),c=t(6811),d=t(618),m=t.n(d),p=t(5427),u=t(59);let x=()=>{let e=(0,c.useRouter)(),{user:s,token:t}=(0,n.a)(),{setUser:x}=(0,i.L)(),[f,h]=m().useState(""),[g,b]=m().useState(""),[j,v]=m().useState(""),[y,N]=m().useState(""),w=async()=>{let e=await fetch("/api/user/profile",{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.access}`},body:JSON.stringify({name:f,email:g,phone:j,gender:y})}).then(e=>e.json());if(e.ok){console.log(e.data);let t={...s,name:f,email:g,phone:j,gender:y};x(t),localStorage.setItem("user",JSON.stringify(t)),(0,o.Am)({title:"Profile updated",description:"Your profile has been updated successfully",variant:"success"});return}(0,o.Am)({title:"Error",description:"Failed to update profile",variant:"destructive"})};return(0,d.useEffect)(()=>{s&&(h(s.name),b(s.email),v(s.phone),N(s.gender))},[s]),(0,r.jsxs)("div",{children:[(0,r.jsxs)("h1",{className:"flex md:hidden items-center gap-2 font-semibold mb-5 text-xl font-sans cursor-pointer",onClick:()=>e.back(),children:[r.jsx(p.hPZ,{className:"w-7 h-7 md:hidden"})," My Account"]}),(0,r.jsxs)("div",{className:"flex flex-col",children:[r.jsx(a.Z,{name:"name",label:"Name",defaultValue:f,onChange:e=>h(e.target.value)}),r.jsx(a.Z,{name:"email",label:"Email",defaultValue:g,onChange:e=>b(e.target.value)}),r.jsx(a.Z,{name:"phone",label:"Phone",disabled:!0,defaultValue:j,onChange:e=>v(e.target.value)}),(0,r.jsxs)("div",{className:"px-2",children:[r.jsx("span",{className:"text-sm font-semibold mt-5",children:"Gender"}),(0,r.jsxs)("div",{className:"flex gap-3 flex-wrap",children:[r.jsx("div",{className:`border border-light-1 rounded-md px-3 flex items-center h-10 cursor-pointer ${"Male"===y&&"bg-primary text-background"}`,onClick:()=>N("Male"),children:(0,r.jsxs)("span",{className:"flex gap-3 text-sm font-semibold",children:[r.jsx(u.rtt,{className:"w-5 h-5"})," ",r.jsx("span",{children:"Male"})]})}),r.jsx("div",{className:`border border-light-1 rounded-md px-3 flex items-center h-10 cursor-pointer ${"Female"===y&&"bg-primary text-background"}`,onClick:()=>N("Female"),children:(0,r.jsxs)("span",{className:"flex gap-3 text-sm font-semibold",children:[r.jsx(u.j9e,{className:"w-5 h-5"})," ",r.jsx("span",{children:"Female"})]})}),r.jsx("div",{className:`border border-light-1 rounded-md px-3 flex items-center h-10 cursor-pointer ${"Other"===y&&"bg-primary text-background"}`,onClick:()=>N("Other"),children:(0,r.jsxs)("span",{className:"flex gap-3 text-sm font-semibold",children:[r.jsx(u.Qrn,{className:"w-5 h-5"})," ",r.jsx("span",{children:"Other"})]})})]})]})]}),r.jsx("div",{className:"mt-10",children:r.jsx(l.z,{className:"w-full text-base",onClick:w,disabled:f===s?.name&&g===s?.email&&j===s?.phone&&y===s?.gender||!f||!g||!j||!y,children:"Save"})})]})}},3407:(e,s,t)=>{"use strict";t.d(s,{Z:()=>n});var r=t(7486),a=t(9574),l=t(7266),o=t(6883);let n=({control:e,name:s,label:t,defaultValue:n,onChange:i,placeholder:c,leftElement:d,disabled:m=!1,type:p="text"})=>e?r.jsx(a.Wi,{control:e,name:s,render:({field:e})=>(0,r.jsxs)("div",{className:"flex flex-col w-full my-2",children:[(0,r.jsxs)("div",{className:"w-full flex items-center border rounded-md px-2 py-2 relative",children:[(0,r.jsxs)(a.lX,{className:"absolute -top-[10px] left-[10px] text-xs mobile:text-sm text-light-1 bg-background px-2",children:[t,"*"]}),d,r.jsx(l.I,{type:p,className:"text-base border-none outline-none shadow-none focus-visible:ring-transparent disabled:cursor-default disabled:opacity-100",...e,placeholder:c,disabled:m})]}),r.jsx(a.zG,{className:"mx-2"})]})}):r.jsx("div",{className:"flex flex-col w-full my-2",children:(0,r.jsxs)("div",{className:"w-full flex items-center border rounded-md px-2 py-2 relative",children:[(0,r.jsxs)(o._,{className:"absolute -top-[10px] left-[10px] text-xs mobile:text-sm text-light-1 bg-background px-2",children:[t,"*"]}),d,r.jsx(l.I,{type:p,defaultValue:n,onChange:i,className:"text-base border-none outline-none shadow-none focus-visible:ring-transparent disabled:cursor-default disabled:opacity-60",placeholder:c,disabled:m})]})})},9574:(e,s,t)=>{"use strict";t.d(s,{Wi:()=>m,l0:()=>c,lX:()=>x,zG:()=>f});var r=t(7486),a=t(618),l=t(4534),o=t(4790),n=t(1405),i=t(6883);let c=o.RV,d=a.createContext({}),m=({...e})=>r.jsx(d.Provider,{value:{name:e.name},children:r.jsx(o.Qr,{...e})}),p=()=>{let e=a.useContext(d),s=a.useContext(u),{getFieldState:t,formState:r}=(0,o.Gc)(),l=t(e.name,r);if(!e)throw Error("useFormField should be used within <FormField>");let{id:n}=s;return{id:n,name:e.name,formItemId:`${n}-form-item`,formDescriptionId:`${n}-form-item-description`,formMessageId:`${n}-form-item-message`,...l}},u=a.createContext({});a.forwardRef(({className:e,...s},t)=>{let l=a.useId();return r.jsx(u.Provider,{value:{id:l},children:r.jsx("div",{ref:t,className:(0,n.cn)("space-y-2",e),...s})})}).displayName="FormItem";let x=a.forwardRef(({className:e,...s},t)=>{let{error:a,formItemId:l}=p();return r.jsx(i._,{ref:t,className:(0,n.cn)(a&&"text-destructive",e),htmlFor:l,...s})});x.displayName="FormLabel",a.forwardRef(({...e},s)=>{let{error:t,formItemId:a,formDescriptionId:o,formMessageId:n}=p();return r.jsx(l.g7,{ref:s,id:a,"aria-describedby":t?`${o} ${n}`:`${o}`,"aria-invalid":!!t,...e})}).displayName="FormControl",a.forwardRef(({className:e,...s},t)=>{let{formDescriptionId:a}=p();return r.jsx("p",{ref:t,id:a,className:(0,n.cn)("text-[0.8rem] text-muted-foreground",e),...s})}).displayName="FormDescription";let f=a.forwardRef(({className:e,children:s,...t},a)=>{let{error:l,formMessageId:o}=p(),i=l?String(l?.message):s;return i?r.jsx("p",{ref:a,id:o,className:(0,n.cn)("text-[0.8rem] font-medium text-destructive",e),...t,children:i}):null});f.displayName="FormMessage"},6883:(e,s,t)=>{"use strict";t.d(s,{_:()=>c});var r=t(7486),a=t(618),l=t(2468),o=t(8906),n=t(1405);let i=(0,o.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=a.forwardRef(({className:e,...s},t)=>r.jsx(l.f,{ref:t,className:(0,n.cn)(i(),e),...s}));c.displayName=l.f.displayName},8988:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>o,__esModule:()=>l,default:()=>n});var r=t(2334);let a=(0,r.createProxy)(String.raw`C:\Users\sandeep\projects\saas-ecommerce\web\app\(root)\myaccount\layout.tsx`),{__esModule:l,$$typeof:o}=a;a.default;let n=(0,r.createProxy)(String.raw`C:\Users\sandeep\projects\saas-ecommerce\web\app\(root)\myaccount\layout.tsx#default`)},4428:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>o,__esModule:()=>l,default:()=>n});var r=t(2334);let a=(0,r.createProxy)(String.raw`C:\Users\sandeep\projects\saas-ecommerce\web\app\(root)\myaccount\profile\page.tsx`),{__esModule:l,$$typeof:o}=a;a.default;let n=(0,r.createProxy)(String.raw`C:\Users\sandeep\projects\saas-ecommerce\web\app\(root)\myaccount\profile\page.tsx#default`)}};var s=require("../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[357,491,475,15,427,417,627],()=>t(9323));module.exports=r})();