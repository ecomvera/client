(()=>{var e={};e.id=526,e.ids=[526],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1017:e=>{"use strict";e.exports=require("path")},7310:e=>{"use strict";e.exports=require("url")},475:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>d,routeModule:()=>p,tree:()=>c}),s(144),s(8774),s(5133);var r=s(9193),a=s(1854),i=s(3997),l=s.n(i),n=s(3320),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);s.d(t,o);let c=["",{children:["(root)",{children:["cart",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,144)),"C:\\Users\\sandeep\\projects\\saas-ecommerce\\web\\app\\(root)\\cart\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,8774)),"C:\\Users\\sandeep\\projects\\saas-ecommerce\\web\\app\\(root)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5133,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,4269))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{"not-found":[()=>Promise.resolve().then(s.t.bind(s,5133,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,4269))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["C:\\Users\\sandeep\\projects\\saas-ecommerce\\web\\app\\(root)\\cart\\page.tsx"],x="/(root)/cart/page",m={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(root)/cart/page",pathname:"/cart",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},6991:(e,t,s)=>{Promise.resolve().then(s.bind(s,6805))},6805:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>R});var r=s(7486),a=s(2033),i=s(2761),l=s(6811),n=s(618),o=s.n(n),c=s(2909),d=s(8174),x=s(65),m=s(8529),p=s(3054);let h=({item:e,moveToCart:t,deleteItem:s})=>{let{cart:i}=(0,m.e)(),{token:l}=(0,p.a)(),{setCart:o}=(0,x.a)(),[h,u]=(0,n.useState)(e.size),f=()=>`${e.product.id}-${e.color}-${h}`,j=async()=>{if(h===e?.size)return;let r=(0,x.c)(i,{...e,size:h,id:f()}).filter(t=>t.id!==e.id);o(r),localStorage.setItem("cart",JSON.stringify(r)),await fetch("/api/user/cart",{method:"PUT",headers:{"Content-Type":"application/json",authorization:`Bearer ${l.access}`},body:JSON.stringify({cart:r.map(({product:e,...t})=>t)})}),t&&s&&s()};return(0,r.jsxs)(c.Vq,{onOpenChange:()=>u(e?.size),children:[r.jsx(c.hg,{className:"flex items-center text-xs tablet:text-base",children:t?r.jsx("span",{className:"w-full hover:bg-primary-foreground border py-[6px] px-6 rounded-md",children:"Move to Cart"}):(0,r.jsxs)(r.Fragment,{children:["Size: ",r.jsx("span",{className:"font-semibold ml-1 ",children:e?.size})," ",r.jsx(d.v4q,{className:"w-5 h-5"})]})}),(0,r.jsxs)(c.cZ,{children:[(0,r.jsxs)(c.fK,{children:[r.jsx(c.$N,{children:"Select Size"}),r.jsx(c.Be,{children:"Select from the list of sizes"}),r.jsx("div",{className:"flex gap-3 pt-5",children:e?.product.sizes.map(e=>r.jsx("div",{className:`border border-primary rounded-md px-2 py-1 w-10 h-10 flex items-center justify-center cursor-pointer font-semibold ${e.key===h?"bg-primary text-white":""}`,onClick:()=>u(e.key),children:r.jsx("span",{children:e.key})},e.key))})]}),r.jsx(c.hg,{asChild:!0,children:r.jsx(a.z,{className:"w-full text-lg",onClick:j,children:"Confirm"})})]})]})};var u=s(1405);let f=n.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:(0,u.cn)("rounded-xl border bg-card text-card-foreground shadow",e),...t}));f.displayName="Card";let j=n.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:(0,u.cn)("flex flex-col space-y-1.5 p-6",e),...t}));j.displayName="CardHeader",n.forwardRef(({className:e,...t},s)=>r.jsx("h3",{ref:s,className:(0,u.cn)("font-semibold leading-none tracking-tight",e),...t})).displayName="CardTitle",n.forwardRef(({className:e,...t},s)=>r.jsx("p",{ref:s,className:(0,u.cn)("text-sm text-muted-foreground",e),...t})).displayName="CardDescription";let g=n.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:(0,u.cn)("p-6 pt-0",e),...t}));g.displayName="CardContent";let y=n.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:(0,u.cn)("flex items-center p-6 pt-0",e),...t}));y.displayName="CardFooter";var b=s(8165);let N=({item:e,token:t,cart:s,removeFromWishlist:l,setCart:n})=>{let o=async()=>{l(e.id),await fetch("/api/user/wishlist",{method:"DELETE",headers:{"Content-Type":"application/json",authorization:`Bearer ${t.access}`},body:JSON.stringify({id:e.id})})};return(0,r.jsxs)(f,{className:"items-center justify-center text-light-1 overflow-hidden rounded-none border-none shadow-none",children:[(0,r.jsxs)(b.default,{href:`/p/${e.product.slug}`,children:[r.jsx(j,{className:"relative p-0 w-full",children:r.jsx(i.default,{src:e.product.images[0].url,quality:10,priority:!0,alt:"mugs",width:"0",height:"0",sizes:"100vw",className:"w-full h-full",style:{margin:"0"}})}),(0,r.jsxs)(g,{className:"p-1",children:[r.jsx("p",{className:"text-sm tablet:text-base font-semibold text-ellipsis truncate",children:e.product.name}),(0,r.jsxs)("p",{className:"text-sm tablet:text-base font-semibold",children:["₹",e.product.price," ",(0,r.jsxs)("span",{className:"text-xs font-extralight tablet:text-sm line-through text-",children:["₹",e.product.mrp]})]})]})]}),(0,r.jsxs)(y,{className:"flex flex-col gap-1 p-0 m-0",children:[r.jsx(h,{item:e,moveToCart:!0,deleteItem:o}),r.jsx(a.z,{className:"w-full hover:bg-red-300",variant:"outline",onClick:o,children:"Remove"})]})]})},v=({cart:e,wishlist:t})=>{let{user:s,token:a}=(0,p.a)(),{removeFromWishlist:i,setCart:l}=(0,x.a)();return s?(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"font-semibold text-xl md:text-2xl font-sans text-light-1",children:"WishList"}),r.jsx("div",{className:"mt-4",children:0===t.length?r.jsx("div",{className:"text-light-1",children:"No items in your wishlist"}):r.jsx("div",{className:"grid grid-cols-[repeat(auto-fit,minmax(100px,150px))] gap-4",children:t.map(t=>r.jsx(N,{item:t,token:a,cart:e,removeFromWishlist:i,setCart:l},t.id))})})]}):null},w=({item:e})=>{let{user:t,token:s}=(0,p.a)(),{updateQuantity:i}=(0,x.a)(),[l,o]=(0,n.useState)(e.quantity),m=async()=>{l!==e?.quantity&&(i(e.id,l),await fetch("/api/user/cart",{method:"PATCH",headers:{"Content-Type":"application/json",authorization:`Bearer ${s.access}`},body:JSON.stringify({id:e.id,quantity:l})}))};return(0,r.jsxs)(c.Vq,{children:[(0,r.jsxs)(c.hg,{className:"flex items-center text-xs tablet:text-base",children:["Qnt: ",r.jsx("span",{className:"font-semibold ml-1",children:e?.quantity})," ",r.jsx(d.v4q,{className:"w-5 h-5"})]}),(0,r.jsxs)(c.cZ,{children:[(0,r.jsxs)(c.fK,{children:[r.jsx(c.$N,{children:"Select Quantiry"}),r.jsx(c.Be,{children:"Select from the list of sizes"}),r.jsx("div",{className:"flex flex-wrap gap-3 pt-5",children:Array.from({length:10}).map((e,t)=>r.jsx("div",{className:`border border-primary rounded-md px-2 py-1 w-10 h-10 flex items-center justify-center cursor-pointer font-semibold ${t+1===l?"bg-primary text-white":""}`,onClick:()=>o(t+1),children:r.jsx("span",{children:t+1})},t+1))})]}),r.jsx(c.hg,{asChild:!0,children:r.jsx(a.z,{className:"w-full text-lg",onClick:m,children:"Confirm"})})]})]})},C=({item:e})=>{let[t,s]=o().useState(!1),[i,l]=o().useState(!1),{token:n}=(0,p.a)(),{removeFromCart:m}=(0,x.a)(),h=async()=>{l(!0),(await fetch("/api/user/cart",{method:"DELETE",headers:{"Content-Type":"application/json",authorization:`Bearer ${n.access}`},body:JSON.stringify({id:e.id})})).ok&&m(e),l(!1),s(!1)};return(0,r.jsxs)(c.Vq,{open:t,onOpenChange:s,children:[r.jsx(c.hg,{className:"flex items-center text-xs tablet:text-base",children:r.jsx(d.ypG,{className:"absolute top-0 right-0 cursor-pointer",onClick:()=>s(!0)})}),(0,r.jsxs)(c.cZ,{children:[(0,r.jsxs)(c.fK,{children:[r.jsx(c.$N,{children:"Remove Item"}),r.jsx(c.Be,{children:"Are you sure you want to remove this item?"})]}),r.jsx("div",{children:e.product.name}),(0,r.jsxs)(c.cN,{className:"mt-10",children:[r.jsx(c.hg,{asChild:!0,children:r.jsx(a.z,{variant:"outline",className:"hover:bg-transparent",children:"Close"})}),r.jsx(a.z,{className:"bg-red-400 font-semibold hover:bg-red-600",onClick:h,children:i?"Removing...":"Remove"})]})]})]})};var q=s(1973),z=s(8369);let P=({cart:e})=>(0,r.jsxs)(r.Fragment,{children:[r.jsx("h1",{className:"font-semibold text-xl md:text-2xl font-sans text-light-1",children:"My Cart"}),(0,r.jsxs)("div",{className:"flex flex-col tablet:flex-row justify-between py-3 gap-4 border-light-3",children:[r.jsx("div",{className:"tablet:px-2 flex-1 tablet:min-h-[300px]",children:0===e.length?r.jsx("div",{className:"text-light-1",children:"No items in your cart"}):r.jsx("div",{children:e.map(e=>r.jsx(k,{item:e},e.id))})}),r.jsx(S,{cart:e})]})]}),k=({item:e})=>(0,r.jsxs)("div",{className:"p-2 flex gap-2 border my-2",children:[r.jsx(b.default,{href:`/p/${e.product.slug}`,className:"relative w-[60px] tablet:w-[100px]",children:r.jsx(z.o,{ratio:.8,children:r.jsx(i.default,{src:e.product.images[0].url,alt:"product",width:0,height:0,priority:!0,sizes:"100vw",className:"w-full"})})}),(0,r.jsxs)("div",{className:"flex flex-1 flex-col",children:[(0,r.jsxs)("div",{className:"relative",children:[r.jsx("h1",{className:"text-sm tablet:text-base font-semibold text-light-1",children:e.product.name}),r.jsx("span",{style:{backgroundColor:e.color},className:"w-5 h-5 tablet:w-7 tablet:h-7 rounded-full flex items-center justify-center mt-1",children:r.jsx("span",{className:"w-4 h-4 tablet:w-6 tablet:h-6 rounded-full border-2 border-white"})}),r.jsx(C,{item:e})]}),r.jsx("div",{className:"flex-1"}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsxs)("div",{className:"flex gap-2 items-center",children:[r.jsx(h,{item:e}),r.jsx(w,{item:e})]}),(0,r.jsxs)("div",{className:"flex gap-1 tablet:gap-2 items-end",children:[(0,r.jsxs)("p",{className:"font-bold text-sm tablet:text-lg",children:["₹",e.product.price*e.quantity]}),(0,r.jsxs)("p",{className:"line-through text-[10px] tablet:text-sm",children:["₹",e.product.mrp*e.quantity]})]})]})]})]}),S=({cart:e})=>{let t=(0,l.useRouter)(),{user:s}=(0,p.a)(),i=(0,n.useMemo)(()=>e&&e.reduce((e,t)=>e+t.product.mrp*t.quantity,0),[e]),o=(0,n.useMemo)(()=>e&&e.reduce((e,t)=>e+t.product.price*t.quantity,0),[e]);return(0,r.jsxs)("div",{className:"w-full tablet:w-[300px] px-2",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center py-3",children:[r.jsx("p",{className:"text-sm",children:"Total MRP (incl. of all taxes)"}),(0,r.jsxs)("p",{className:"text-sm font-semibold",children:["₹ ",i]})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center py-3",children:[r.jsx("p",{className:"text-sm",children:"Discount"}),(0,r.jsxs)("p",{className:"text-sm font-semibold text-green-600",children:["₹ ",o-i]})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center py-3",children:[r.jsx("p",{className:"text-sm",children:"Delivery Charge"}),r.jsx("p",{className:"text-sm font-semibold",children:"₹ 0"})]}),r.jsx(q.Z,{}),(0,r.jsxs)("div",{className:"flex justify-between items-center py-3",children:[r.jsx("p",{className:"text-sm font-semibold",children:"Total"}),(0,r.jsxs)("p",{className:"text-sm font-semibold",children:["₹ ",o]})]}),r.jsx("div",{className:"w-full flex justify-center py-5",children:r.jsx(a.z,{className:"w-full bg-[#ffd248] py-2 text-gray-800 text-lg font-bold hover:bg-[#ffd248]",onClick:()=>s?s.addresses.length>0?t.push("/checkout"):t.push("/myaccount/addresses?address=new&src=/cart"):t.push("/sign-in?src=/cart"),disabled:0===e.length,children:"Proceed"})})]})},R=()=>{let{cart:e,wishlist:t}=(0,m.e)();return(0,r.jsxs)("div",{className:"max-w-desktop mx-auto px-2 py-5",children:[r.jsx(P,{cart:e}),r.jsx(v,{cart:e,wishlist:t})]})}},8369:(e,t,s)=>{"use strict";s.d(t,{o:()=>r});let r=s(243).f},1973:(e,t,s)=>{"use strict";s.d(t,{Z:()=>d});var r=s(7486),a=s(618),i=s(9712),l="horizontal",n=["horizontal","vertical"],o=a.forwardRef((e,t)=>{let{decorative:s,orientation:a=l,...o}=e,c=n.includes(a)?a:l;return(0,r.jsx)(i.WV.div,{"data-orientation":c,...s?{role:"none"}:{"aria-orientation":"vertical"===c?c:void 0,role:"separator"},...o,ref:t})});o.displayName="Separator";var c=s(1405);let d=a.forwardRef(({className:e,orientation:t="horizontal",decorative:s=!0,...a},i)=>r.jsx(o,{ref:i,decorative:s,orientation:t,className:(0,c.cn)("shrink-0 bg-border","horizontal"===t?"h-[1px] w-full":"h-full w-[1px]",e),...a}));d.displayName=o.displayName},144:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>l,__esModule:()=>i,default:()=>n});var r=s(2334);let a=(0,r.createProxy)(String.raw`C:\Users\sandeep\projects\saas-ecommerce\web\app\(root)\cart\page.tsx`),{__esModule:i,$$typeof:l}=a;a.default;let n=(0,r.createProxy)(String.raw`C:\Users\sandeep\projects\saas-ecommerce\web\app\(root)\cart\page.tsx#default`)},243:(e,t,s)=>{"use strict";s.d(t,{f:()=>n});var r=s(618),a=s(9712),i=s(7486),l=r.forwardRef((e,t)=>{let{ratio:s=1,style:r,...l}=e;return(0,i.jsx)("div",{style:{position:"relative",width:"100%",paddingBottom:`${100/s}%`},"data-radix-aspect-ratio-wrapper":"",children:(0,i.jsx)(a.WV.div,{...l,ref:t,style:{...r,position:"absolute",top:0,right:0,bottom:0,left:0}})})});l.displayName="AspectRatio";var n=l}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[357,491,475,761,627],()=>s(475));module.exports=r})();